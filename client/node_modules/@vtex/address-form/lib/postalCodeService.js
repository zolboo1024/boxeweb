'use strict';

exports.__esModule = true;
exports.getAddress = getAddress;

var _axios = require('axios');

var _axios2 = _interopRequireDefault(_axios);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getAddress(_ref) {
  var _ref$cors = _ref.cors,
      cors = _ref$cors === undefined ? false : _ref$cors,
      accountName = _ref.accountName,
      country = _ref.country,
      postalCode = _ref.postalCode;

  var endpoint = void 0;

  var cleanPostalCode = postalCode.replace(/ /g, '');

  var HOST_URL = document.querySelector('base') ? document.baseURI : '';

  /* istanbul ignore if */
  if (cors) {
    endpoint = 'https://' + accountName + '.vtexcommercestable.com.br/api/checkout/pub/postal-code/' + country + '/' + cleanPostalCode;
  } else {
    endpoint = HOST_URL + '/api/checkout/pub/postal-code/' + country + '/' + cleanPostalCode;
  }

  return _axios2.default.get(endpoint).then(function (response) {
    return response.data;
  });
}