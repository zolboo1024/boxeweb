'use strict';

exports.__esModule = true;
exports.default = loadGoogleMaps;

var _loadGoogleMapsApi = require('load-google-maps-api');

var _loadGoogleMapsApi2 = _interopRequireDefault(_loadGoogleMapsApi);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var cachedGoogleMapsAPI = null;

function loadGoogleMaps(_ref) {
  var locale = _ref.locale,
      apiKey = _ref.apiKey;

  if (cachedGoogleMapsAPI) {
    return Promise.resolve(cachedGoogleMapsAPI);
  }

  return new Promise(function (resolve, reject) {
    return (0, _loadGoogleMapsApi2.default)({
      key: apiKey,
      language: locale,
      libraries: ['places']
    }).then(function (googleMaps) {
      cachedGoogleMapsAPI = googleMaps;
      return resolve(googleMaps);
    }).catch(function (error) {
      return reject(error);
    });
  });
}
module.exports = exports['default'];