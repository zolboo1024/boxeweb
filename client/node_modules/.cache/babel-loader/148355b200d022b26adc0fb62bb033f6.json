{"ast":null,"code":"var _jsxFileName = \"/Users/zz/Projects/React/my-app/client/src/components/CreateSpace.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { loadUser } from '../actions/authActions';\nimport { connect } from 'react-redux';\nimport { tokenConfigJS } from './tokenConfig';\nimport { Alert } from 'reactstrap';\nimport PlacesAutocomplete from 'react-places-autocomplete';\nimport { geocodeByAddress, geocodeByPlaceId, getLatLng } from 'react-places-autocomplete'; // import DatePicker from 'react-datepicker';\n// import \"react-datepicker/dist/react-datepicker.css\";\n\nclass CreateSpace extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeLocation = newlocation => {\n      this.setState({\n        location: newlocation\n      });\n    };\n\n    this.handleSelect = address => {\n      geocodeByAddress(address).then(results => {\n        getLatLng(results[0]).then(latLng => {\n          console.log('Success', latLng);\n          this.setLatitude(latLng.lat);\n          this.setLongitude(latLng.lng);\n        }); //results[0].formatted_address contains the address that you can put in one line\n\n        var formatted_address = results[0].formatted_address;\n        this.onChangeLocation(formatted_address);\n      }).catch(error => console.error('Error', error));\n    };\n\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.onChangeLocation = this.onChangeLocation.bind(this);\n    this.onChangeAreaWidth = this.onChangeAreaWidth.bind(this);\n    this.onChangeAreaLength = this.onChangeAreaLength.bind(this);\n    this.onChangePrice = this.onChangePrice.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChangeImage = this.onChangeImage.bind(this);\n    this.onChangeLocation = this.onChangeLocation.bind(this);\n    this.handleSelect = this.handleSelect.bind(this);\n    this.setLatitude = this.setLatitude.bind(this);\n    this.setLongitude = this.setLongitude.bind(this);\n    this.state = {\n      username: '',\n      description: '',\n      location: '',\n      areawidth: 0,\n      arealength: 0,\n      price: 0,\n      msg: '',\n      image: null,\n      preview: null,\n      latitude: 0,\n      longitude: 0\n    };\n  }\n\n  setLatitude(e) {\n    this.setState({\n      latitude: e\n    });\n  }\n\n  setLongitude(e) {\n    this.setState({\n      longitude: e\n    });\n  }\n\n  onChangeUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  onChangeAreaWidth(e) {\n    this.setState({\n      areawidth: e.target.value\n    });\n  }\n\n  onChangeAreaLength(e) {\n    this.setState({\n      arealength: e.target.value\n    });\n  }\n\n  onChangePrice(e) {\n    this.setState({\n      price: e.target.value\n    });\n  }\n\n  onChangeDescription(e) {\n    this.setState({\n      description: e.target.value\n    });\n  }\n\n  onChangeImage(e) {\n    this.setState({\n      image: e.target.files[0]\n    });\n    this.setState({\n      preview: URL.createObjectURL(e.target.files[0])\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const thisspace = {\n      username: this.props.user.username,\n      description: this.state.description,\n      location: this.state.location,\n      areawidth: this.state.areawidth,\n      arealength: this.state.arealength,\n      price: this.state.price,\n      latitude: this.state.latitude,\n      longitude: this.state.longitude,\n      creatorid: this.props.user._id\n    };\n    const data = new FormData(); //Here we are specifyin what kind of name that the file will be under in this form.\n\n    data.append('file', this.state.image);\n    data.append('username', thisspace.username);\n    data.append('description', thisspace.description);\n    data.append('location', thisspace.location);\n    data.append('areawidth', thisspace.areawidth);\n    data.append('arealength', thisspace.arealength);\n    data.append('price', thisspace.price);\n    data.append('latitude', thisspace.latitude);\n    data.append('longitude', thisspace.longitude);\n    data.append('creatorid', thisspace.creatorid);\n    axios.post('/spaces/upload', data, tokenConfigJS(this.props.token)).then(res => {\n      if (res.status === 200) {\n        this.props.history.push('/');\n      }\n    });\n  }\n\n  render() {\n    var margincss = {\n      'margin': '20'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, \"Create New Space\"), this.state.msg ? /*#__PURE__*/React.createElement(Alert, {\n      color: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 14\n      }\n    }, this.state.msg) : null, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      style: margincss,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }\n    }, \"Location:\"), /*#__PURE__*/React.createElement(PlacesAutocomplete, {\n      value: this.state.location,\n      onChange: this.onChangeLocation,\n      onSelect: this.handleSelect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }\n    }, ({\n      getInputProps,\n      suggestions,\n      getSuggestionItemProps,\n      loading\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 81\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", Object.assign({}, getInputProps({\n      placeholder: 'Search Places ...',\n      className: 'location-search-input'\n    }), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"autocomplete-dropdown-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }\n    }, loading && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 29\n      }\n    }, \"Loading...\"), suggestions.map(suggestion => {\n      const className = suggestion.active ? 'suggestion-item--active' : 'suggestion-item'; // inline style for demonstration purpose\n\n      const style = suggestion.active ? {\n        backgroundColor: '#fafafa',\n        cursor: 'pointer'\n      } : {\n        backgroundColor: '#ffffff',\n        cursor: 'pointer'\n      };\n      return /*#__PURE__*/React.createElement(\"div\", Object.assign({}, getSuggestionItemProps(suggestion, {\n        className,\n        style\n      }), {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 23\n        }\n      }, suggestion.description));\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }\n    }, \"Description:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: \"required\",\n      className: \"form-control\",\n      value: this.state.description,\n      onChange: this.onChangeDescription,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }\n    }, \"The space is:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      required: \"required\",\n      className: \"form-control\",\n      value: this.state.areawidth,\n      onChange: this.onChangeAreaWidth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }\n    }, \"By\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      required: \"required\",\n      className: \"form-control\",\n      value: this.state.arealength,\n      onChange: this.onChangeAreaLength,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }\n    }, \"Price per month:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      required: \"required\",\n      className: \"form-control\",\n      value: this.state.price,\n      onChange: this.onChangePrice,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-file mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"file\",\n      id: \"file\",\n      className: \"custom-file-input\",\n      onChange: this.onChangeImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"custom-file-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }\n    }, \"Choose file\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }\n    }, this.state.image ? /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.preview,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 18\n      }\n    }) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Create Space Log\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }\n    }))));\n  }\n\n} //MApping state to props means that these values are actually attached to the\n//state of this component (REgistermodal).\n\n\nconst mapStateToProps = state => ({\n  user: state.auth.user,\n  isAuthenticated: state.auth.isAuthenticated,\n  token: state.auth.token\n});\n\nexport default connect(mapStateToProps, {\n  loadUser\n})(CreateSpace);","map":{"version":3,"sources":["/Users/zz/Projects/React/my-app/client/src/components/CreateSpace.js"],"names":["React","Component","axios","loadUser","connect","tokenConfigJS","Alert","PlacesAutocomplete","geocodeByAddress","geocodeByPlaceId","getLatLng","CreateSpace","constructor","props","onChangeLocation","newlocation","setState","location","handleSelect","address","then","results","latLng","console","log","setLatitude","lat","setLongitude","lng","formatted_address","catch","error","onChangeUsername","bind","onChangeDescription","onChangeAreaWidth","onChangeAreaLength","onChangePrice","onSubmit","onChangeImage","state","username","description","areawidth","arealength","price","msg","image","preview","latitude","longitude","e","target","value","files","URL","createObjectURL","preventDefault","thisspace","user","creatorid","_id","data","FormData","append","post","token","res","status","history","push","render","margincss","textAlign","getInputProps","suggestions","getSuggestionItemProps","loading","placeholder","className","map","suggestion","active","style","backgroundColor","cursor","mapStateToProps","auth","isAuthenticated"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport {loadUser} from '../actions/authActions';\nimport {connect} from 'react-redux';\nimport {tokenConfigJS} from './tokenConfig';\nimport {Alert} from 'reactstrap';\nimport PlacesAutocomplete from 'react-places-autocomplete';\nimport {geocodeByAddress, geocodeByPlaceId, getLatLng} from 'react-places-autocomplete';\n// import DatePicker from 'react-datepicker';\n// import \"react-datepicker/dist/react-datepicker.css\";\n\nclass CreateSpace extends Component {\n  constructor(props) {\n    super(props);\n    \n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.onChangeLocation = this.onChangeLocation.bind(this);\n    this.onChangeAreaWidth = this.onChangeAreaWidth.bind(this);\n    this.onChangeAreaLength = this.onChangeAreaLength.bind(this);\n    this.onChangePrice = this.onChangePrice.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChangeImage = this.onChangeImage.bind(this);\n    this.onChangeLocation = this.onChangeLocation.bind(this);\n    this.handleSelect = this.handleSelect.bind(this);\n    this.setLatitude = this.setLatitude.bind(this);\n    this.setLongitude = this.setLongitude.bind(this);\n    this.state = {\n      username: '',\n      description: '',\n      location: '',\n      areawidth: 0,\n      arealength: 0,\n      price: 0,\n      msg: '',\n      image: null,\n      preview: null,\n      latitude: 0,\n      longitude: 0\n    }\n  }\n  setLatitude(e) {\n    this.setState({latitude: e})\n  }\n  setLongitude(e) {\n    this.setState({longitude: e})\n  }\n  onChangeUsername(e) {\n    this.setState({username: e.target.value})\n  }\n  onChangeAreaWidth(e) {\n    this.setState({areawidth: e.target.value})\n  }\n  onChangeAreaLength(e) {\n    this.setState({arealength: e.target.value})\n  }\n  onChangePrice(e) {\n    this.setState({price: e.target.value})\n  }\n\n  onChangeDescription(e) {\n    this.setState({description: e.target.value})\n  }\n  onChangeImage(e) {\n    this.setState({image: e.target.files[0]});\n    this.setState({\n      preview: URL.createObjectURL(e.target.files[0])\n    });\n  }\n  onChangeLocation = newlocation => {\n    this.setState({location: newlocation});\n  };\n\n  handleSelect = address => {\n    geocodeByAddress(address).then(results => {\n      getLatLng(results[0]).then(latLng => {\n        console.log('Success', latLng);\n        this.setLatitude(latLng.lat);\n        this.setLongitude(latLng.lng);\n      });\n      //results[0].formatted_address contains the address that you can put in one line\n      var formatted_address = results[0].formatted_address;\n      this.onChangeLocation(formatted_address);\n    }).catch(error => console.error('Error', error));\n  }\n  onSubmit(e) {\n    e.preventDefault();\n\n    const thisspace = {\n      username: this.props.user.username,\n      description: this.state.description,\n      location: this.state.location,\n      areawidth: this.state.areawidth,\n      arealength: this.state.arealength,\n      price: this.state.price,\n      latitude: this.state.latitude,\n      longitude: this.state.longitude,\n      creatorid: this.props.user._id\n    }\n    const data = new FormData();\n    //Here we are specifyin what kind of name that the file will be under in this form.\n    data.append('file', this.state.image);\n    data.append('username', thisspace.username);\n    data.append('description', thisspace.description);\n    data.append('location', thisspace.location);\n    data.append('areawidth', thisspace.areawidth);\n    data.append('arealength', thisspace.arealength);\n    data.append('price', thisspace.price);\n    data.append('latitude', thisspace.latitude);\n    data.append('longitude', thisspace.longitude);\n    data.append('creatorid', thisspace.creatorid);\n    axios.post('/spaces/upload', data, tokenConfigJS(this.props.token)).then(res => {\n      if (res.status === 200) {\n        this.props.history.push('/');\n      }\n    });\n  }\n  render() {\n    var margincss = {\n      'margin': '20'\n    };\n    return (<div>\n      <h3 style={{textAlign: \"center\"}}>Create New Space</h3>\n      {\n        this.state.msg\n          ? (<Alert color=\"danger\">{this.state.msg}</Alert>)\n          : null\n      }\n      <form onSubmit={this.onSubmit} style = {margincss}>\n        <label>Location:\n        </label>\n        <PlacesAutocomplete value={this.state.location} onChange={this.onChangeLocation} onSelect={this.handleSelect}>\n          {\n            ({getInputProps, suggestions, getSuggestionItemProps, loading}) => (<div>\n              <input {...getInputProps({\n                placeholder: 'Search Places ...',\n                className: 'location-search-input',\n              })}/>\n              <div className=\"autocomplete-dropdown-container\">\n                {loading && <div>Loading...</div>}\n                {\n                  suggestions.map(suggestion => {\n                    const className = suggestion.active\n                      ? 'suggestion-item--active'\n                      : 'suggestion-item';\n                    // inline style for demonstration purpose\n                    const style = suggestion.active\n                      ? {\n                        backgroundColor: '#fafafa',\n                        cursor: 'pointer'\n                      }\n                      : {\n                        backgroundColor: '#ffffff',\n                        cursor: 'pointer'\n                      };\n                    return (<div {...getSuggestionItemProps(suggestion, {\n                      className,\n                      style,\n                    })}>\n                      <span>{suggestion.description}</span>\n                    </div>);\n                  })\n                }\n              </div>\n            </div>)\n          }\n        </PlacesAutocomplete>\n        <div className=\"form-group\">\n          <label>Description:\n          </label>\n          <input type=\"text\" required=\"required\" className=\"form-control\" value={this.state.description} onChange={this.onChangeDescription}/>\n        </div>\n        <div className=\"form-group\">\n          <label>The space is:\n          </label>\n          <input type=\"number\" required=\"required\" className=\"form-control\" value={this.state.areawidth} onChange={this.onChangeAreaWidth}/>\n          <label>By\n          </label>\n          <input type=\"number\" required=\"required\" className=\"form-control\" value={this.state.arealength} onChange={this.onChangeAreaLength}/>\n        </div>\n        <div className=\"form-group\">\n          <label>Price per month:\n          </label>\n          <input type=\"number\" required=\"required\" className=\"form-control\" value={this.state.price} onChange={this.onChangePrice}/>\n        </div>\n        <div className=\"custom-file mb-3\">\n          <input type=\"file\" name=\"file\" id=\"file\" className=\"custom-file-input\" onChange={this.onChangeImage}></input>\n          <label className=\"custom-file-label\">Choose file</label>\n        </div>\n        <div>\n          {\n            this.state.image\n              ? (<img src={this.state.preview}/>)\n              : null\n          }\n        </div>\n        <div className=\"form-group\" style={{textAlign: \"center\"}}>\n          <input type=\"submit\" value=\"Create Space Log\" className=\"btn btn-primary\"/>\n        </div>\n      </form>\n    </div>)\n  }\n}\n//MApping state to props means that these values are actually attached to the\n//state of this component (REgistermodal).\nconst mapStateToProps = state => ({user: state.auth.user, isAuthenticated: state.auth.isAuthenticated, token: state.auth.token});\n\nexport default connect(mapStateToProps, {loadUser})(CreateSpace);\n"]},"metadata":{},"sourceType":"module"}